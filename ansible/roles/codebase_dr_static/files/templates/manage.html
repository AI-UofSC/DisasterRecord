<!DOCTYPE html>
<html>

<head>
</head>
<body>
	<h1><a href="/campaign/{{ campaignid }}">{{ campaignid }}</a></h1>
	<h3>Campaign Meta:</h3>
	<form action="/updateCampaign/{{ campaignid }}" method="post">
		Campaign Name:<br>
		<input type="text" name="html_campaignid" value="{{ campaignid }}" readonly="readonly"><br>
		Centroid:<br>
		<input type="text" name="html_centroid" value="{{ centroid }}"><br>
		Bounding Box:<br>
		<input type="text" name="html_bb" value="{{ bb }}"><br>
		Start Date:<br>
		<input type="text" name="html_startdate" value="{{ startdate }}"><br>
		End Date:<br>
		<input type="text" name="html_enddate" value="{{ enddate }}"><br>
		Default Zoom:<br>
		<input type="text" name="html_defaultzoom" value="{{ defaultzoom }}"><br>
		{% if active == '1' %}
		<input type="checkbox" name="html_active" value="1" checked="checked">Enabled<br>
		{% else %}
		<input type="checkbox" name="html_active" value="1">Enabled<br>
		{% endif %}
		<input type="submit" value="Change Meta">
	</form>
	<h3>Data Sources:</h3>	
	<form action="/updateCampaignMedia/{{ campaignid }}" method="post">
	<table>
		<tr>
			<td>MediaID</td>
			<td>URL</td>
			<td>Type</td>
			<td>Geo-Point</td>
			<td>Geo-Shape</td>
			<td>Params</td>
			<td>Enabled</td>
		</tr>
	{% for mediaEntry in campaignMedia %}
		<tr>
			<td>{{ mediaEntry[2] }}</td>
			<td><input type="text" name="{{ mediaEntry[1] }}_mediaURL" value="{{ mediaEntry[3] }}"></td>
			<td><input type="text" name="{{ mediaEntry[1] }}_mediaType" value="{{ mediaEntry[4] }}"></td>
			<td><input type="text" name="{{ mediaEntry[1] }}_geopoint" value="{{ mediaEntry[5] }}"></td>
			<td><input type="text" name="{{ mediaEntry[1] }}_geoshape" value="{{ mediaEntry[6] }}"></td>
			<td><input type="text" name="{{ mediaEntry[1] }}_params" value="{{ mediaEntry[7] }}"></td>
			{% if mediaEntry[8] == 1 %}
			<td><input type="checkbox" name="{{ mediaEntry[1] }}_active" value="1" checked="checked">Enabled</td>
			{% else %}
			<td><input type="checkbox" name="{{ mediaEntry[1] }}_active" value="1">Enabled</td>
			{% endif %}
			{% if mediaEntry[9] == 0 %}
			<td><img height="32px" src="/static/pending.png"></td>
			{% elif mediaEntry[9] == -1 %}
			<td><img height="32px" src="/static/error.png"></td>
			{% elif mediaEntry[9] == 1 %}
			<td><img height="32px" src="/static/processing.png"></td>
			{% elif mediaEntry[9] == 2 %}
			<td><img height="32px" src="/static/finished.png"></td>
			{% else %}
			<td><img height="32px" src="/static/error.png"></td>
			{% endif %}
			<td><a href="/deleteMedia?campaign={{ mediaEntry[1] }}&mediaid={{ mediaEntry[2] }}"><img height="32px" src="/static/remove.png"></a></td>
		</tr>
	{% endfor %}
	<!--
	<tr>
		<td><input type="submit" value="Update Media"></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	-->
	</table>
	</form>
	<h3>Register Data Source:</h3>
	<form action="/addMedia" method="post">
		<input type="hidden" name="html_campaignid" value="{{ campaignid }}">
		Data Source Name:<br>
		<input type="text" name="html_mediaid"><br>
		Data Source URL:<br>
		<input type="text" name="html_mediaURL"><br>
		Data Type:<br>
		<!--<input type="text" name="html_mediaType"><br>-->
		<select name="html_mediaType">
			<option value="dataset">DRecord Data Set</option>
			<option value="twitterstream">Twitter Stream</option>
			<option value="floodmap">Flood Map</option>
			<option value="image">Image</option>
			<option value="video">Video</option>
		</select><br>
		Geo-Point:<br>
		<input type="text" name="html_geopoint"><br>
		Geo-Shape:<br>
		<input type="text" name="html_geoshape"><br>
		Params:<br>
		<input type="text" name="html_params"><br>
		<input type="submit" value="Register Data Source">
	</form>
	<br>
	<a href="/listCampaigns">Campaign List</a>
</body>
</html>